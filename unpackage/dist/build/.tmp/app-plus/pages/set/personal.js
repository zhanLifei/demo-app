(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/set/personal"],{"0af1":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("be84"));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(){return n.e("components/header_nav").then(n.bind(null,"ddfc"))},u={components:{headers:i},data:function(){return{wallet:"",Hlicon:"../../static/icon/left_whitch.png",Htitle:"个人资料",url_ri:"/pages/main/my",phonenum:"",username:"",levelname:"",add_time:"",userimg:e.getStorageSync("member").avatar,zhifubname:"",zhifubphone:"",bankuser:"",bankname:"",banknum:"",disAbled1:!1,disAbled2:!1,aa:!1,bb:!1}},methods:{accomp:function(){""!=this.bankname?""!=this.bankuser?""!=this.banknum?this.blurs("是否确认提交!",o.default.api.set.submitPaytype,"POST",{status:2,account:this.banknum,titleofaccount:this.bankuser,name:this.bankname}):e.showToast({title:"请输入银行卡号",icon:"none"}):e.showToast({title:"请输入开户名",icon:"none"}):e.showToast({title:"输入开户银行名称",icon:"none"})},blur:function(){this.blurs("是否确认修改昵称!",o.default.api.set.modifyingNickname,"POST",{nickname:this.username})},phonblur:function(){this.blurs("是否确认修改账号!",o.default.api.set.submitPaytype,"POST",{status:1,account:this.zhifubphone,titleofaccount:this.zhifubname,name:""})},swiths:function(e){1==e?this.aa=!0:this.bb=!0},changphone:function(){this.blurs("是否确认修改账号!",o.default.api.set.submitPaytype,"POST",{status:1,account:this.zhifubphone,titleofaccount:this.zhifubname,name:""})},blurs:function(t,n,o,s){var i=this;e.showModal({title:"提示",content:t,success:function(t){t.confirm?(e.request({url:n,method:o,data:s,header:{Authorization:"Bearer "+e.getStorageSync("token")},success:function(t){i.aa=!1,i.bb=!1;t=t.data;1==t.code?(e.showToast({title:t.info,icon:"none"}),i.userinfo()):(e.showToast({title:t.info,icon:"none"}),i.username=e.getStorageSync("member").nickname)}}),console.log(a("用户点击确定"," at pages\\set\\personal.vue:336"))):t.cancel&&(i.username=e.getStorageSync("member").nickname,console.log(a("用户点击取消"," at pages\\set\\personal.vue:339")))}}),console.log(a("blur"," at pages\\set\\personal.vue:344"))},changname:function(){var t=this;e.showModal({title:"提示",content:"是否确认修改昵称!",success:function(n){n.confirm?(e.request({url:o.default.api.set.modifyingNickname,method:"POST",data:{nickname:t.username},header:{Authorization:"Bearer "+e.getStorageSync("token")},success:function(n){n=n.data;1==n.code?(e.showToast({title:n.info,icon:"none"}),t.userinfo()):(e.showToast({title:n.info,icon:"none"}),t.username=e.getStorageSync("member").nickname)}}),console.log(a("用户点击确定"," at pages\\set\\personal.vue:380"))):n.cancel&&(t.username=e.getStorageSync("member").nickname,console.log(a("用户点击取消"," at pages\\set\\personal.vue:383")))}}),console.log(a("comfirm"," at pages\\set\\personal.vue:388"))},changimg:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(n){console.log(a(n," at pages\\set\\personal.vue:397"));var s=n.tempFilePaths;t.userimg=s[0],e.uploadFile({url:o.default.api.main.avatar,header:{Authorization:"Bearer "+e.getStorageSync("token")},filePath:s[0],name:"file",success:function(t){e.showToast({title:JSON.parse(t.data).info,icon:"none"})}})}})},upimg:function(){var e=this;return Promise.resolve(e.userimg)},userinfo:function(){o.default.auth(this,o.default.api.home.info,"GET","",function(t,n){console.log(a(n,"userinfo"," at pages\\set\\personal.vue:427"));var o=n.data.member;e.setStorageSync("member",n.data.member),t.phonenum=o.account,t.username=o.nickname,t.userimg=o.avatar,t.levelname=o.levelname,t.add_time=o.add_time})},paytype:function(){o.default.auth(this,o.default.api.set.paytype,"GET",{type:1},function(e,t){e.zhifubname=t.data.titleofaccount,e.zhifubphone=t.data.account}),o.default.auth(this,o.default.api.set.paytype,"GET",{type:2},function(e,t){console.log(a(t.data,"userinfo"," at pages\\set\\personal.vue:453")),t.data&&(e.bankuser=t.data.titleofaccount,e.bankname=t.data.name,e.banknum=t.data.account)}),o.default.auth(this,o.default.api.set.paytype,"GET",{type:3},function(e,t){console.log(a(t.data,"userinfo"," at pages\\set\\personal.vue:464")),t.data&&(e.wallet=t.data.account)})}},onLoad:function(){},onShow:function(){this.userinfo(),this.paytype()}};t.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},"1b88":function(e,t,n){},"3f3b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},4309:function(e,t,n){"use strict";var a=n("1b88"),o=n.n(a);o.a},6337:function(e,t,n){"use strict";(function(e){n("42df"),n("921b");a(n("66fd"));var t=a(n("64f7"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"64f7":function(e,t,n){"use strict";n.r(t);var a=n("3f3b"),o=n("8a6a");for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);n("4309");var i=n("2877"),u=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=u.exports},"8a6a":function(e,t,n){"use strict";n.r(t);var a=n("0af1"),o=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);t["default"]=o.a}},[["6337","common/runtime","common/vendor"]]]);